{% extends 'layouts/fixed.html' %}

{% block js %}
<script type="text/javascript" src="{{ static_url('js/plugins/loaders/pace.min.js') }}"></script>
<script type="text/javascript" src="{{ static_url('js/plugins/loaders/blockui.min.js') }}"></script>
<script type="text/javascript" src="{{ static_url('js/plugins/forms/selects/select2.min.js') }}"></script>
<script type="text/javascript" src="{{ static_url('js/plugins/tables/datatables/datatables.min.js') }}"></script>
<script type="text/javascript" src="{{ static_url('js/pages/health.js') }}"></script>
{% end %}

<!-- Main navbar -->
{% block main-navbar %}
{% module Template('modules/main-navbar.html', health_control=health_control, current='health_control') %}
{% end %}
<!-- /main navbar -->

{% block main-sidebar %}
{% module MainSidebar(entries=main_sidebar_entries, current=None) %}
{% end %}

{% block content %}
<div class="panel panel-primary">
    <div class="panel-heading">
        <h5 class="panel-title"><i class="icon-chip position-left"></i>Memory ({{ bytes2human(memory_total_bytes) }})</h5>
        <div class="heading-elements">
            <ul class="icons-list">
                <li><a data-action="collapse"></a></li>
                <li><a data-action="reload"></a></li>
            </ul>
        </div>
    </div>

    <table class="table datatable-basic">
        <thead>
        <tr>
            <th>Types</th>
            <th>Objects</th>
            <th>Total Size</th>
        </tr>
        </thead>
        <tbody>
        {% for types, objects, total_size in memory_summary %}
        <tr>
            <td>{{ types }}</td>
            <td>{{ objects }}</td>
            <td>{{ bytes2human(total_size) }}</td>
        </tr>
        {% end %}
        </tbody>
    </table>
</div>
{% end %}